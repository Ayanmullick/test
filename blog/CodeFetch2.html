<script>
    let fetchRes = fetch("https://raw.githubusercontent.com/Ayanmullick/AzIaaS/master/AzVM.ps1");
    let regionStart, regionEnd;

    fetchRes.then(response => response.clone().text()).then(data => {
      const lines = data.split("\n");

      for (let i = 0; i < lines.length; i++) {
        if (lines[i].trim() === "#region Variables") {
          regionStart = i;
        } else if (lines[i].trim() === "#endregion" && regionStart !== -1) {
          regionEnd = i;
          break;
        }
      }

      if (regionStart !== -1 && regionEnd !== -1) {
        const regionLines = lines.slice(regionStart + 1, regionEnd);
        document.getElementById("code1").textContent = regionLines.join("\n");
        hljs.highlightElement(document.getElementById("code1"));
      } else {
        // Region not found
        document.getElementById("code1").textContent = "Region 'Variables' not found";
      }
    })
  </script>

  <pre id="code1"></pre>