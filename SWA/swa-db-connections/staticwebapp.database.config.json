{
  "$schema": "https://github.com/Azure/data-api-builder/releases/download/v1.3.19/dab.draft.schema.json",
  "data-source": { "database-type": "mssql", "connection-string": "Server=tcp:@env('AzSqlServer').database.windows.net,1433;Initial Catalog=@env('AzSqlDb');Encrypt=True;TrustServerCertificate=False;Authentication=Active Directory Managed Identity;User Id=@env('AZURE_CLIENT_ID');" },
  "runtime": {
    "rest": { "enabled": true, "path": "/rest" },
    "graphql": { "enabled": false },
    "host": { "mode": "development", "cors": {"origins": ["http://localhost:4280"]}, 
    "authentication": { "provider": "StaticWebApps" }}
  },
  "entities": {
    "TestSales": {
      "source": "dbo.TestSales",
      "permissions": [
        { "role": "anonymous", "actions": ["read"] },
        { "role": "authenticated", "actions": ["read"] }
      ]
    }
  }
}
